# 5.2 微积分基本公式

## 积分上限的函数及其导数

考查函数 $f(x)$ 在区间 $[a,x]$ 上的积分（其中 $a$ 为常数，$x$ 为变量）：

$$
\varPhi(x)=\int_a^xf(t){\rm d}t
$$

这个函数称为积分上限的函数，也称变限函数。

考虑它的导数：

![](./images/deriv-area.svg)

根据几何直观，$\varPhi'(x)$ 即一小段 ${\rm d}x$ 对应增加的这部分区域的高，应该就等于 $f(x)$。下面验证一下：

$$
\begin{align}
\varPhi'(x)&=\lim_{\Delta x\to0}{\varPhi(x+\Delta x)-\varPhi(x)\over\Delta x}\\
&=\lim_{\Delta x\to0}{1\over\Delta x}\left[\int_a^{x+\Delta x}f(t){\rm d}t-\int_a^xf(t){\rm d}t \right]\\
&=\lim_{\Delta x\to0}{1\over\Delta x}\left[\cancel{\int_a^xf(t){\rm d}t}+\int_x^{x+\Delta x}f(t){\rm d}t-\cancel{\int_a^xf(t){\rm d}t} \right]\\
&=\lim_{\Delta x\to0}{1\over\Delta x}\int_x^{x+\Delta x}f(t){\rm d}t\\
\small{(积分中值定理)}&=\lim_{\Delta x\to0}{f(\xi)\Delta x\over\Delta x}=\lim_{\Delta x\to0}f(\xi)
\end{align}
$$

其中 $\xi$ 在 $x$ 与 $x+\Delta x$ 之间。

因此当 $\Delta x\to0$ 时，$\varPhi'(x)=f(\xi)=f(x)$。

因此我们有：

**定理 1** 如果函数 $f(x)$ 在区间 $[a,b]$ 上连续，那么积分上限的函数

$$
\varPhi(x)=\int_a^bf(t){\rm d}t
$$

在 $[a,b]$ 上可导，并且它的导数

$$
\varPhi'(x)={{\rm d}\over{\rm d}x}\int_a^xf(t){\rm d}t=f(x)\quad\small{(a\le x\le b)}
$$

并由此引出：

**定理 2**（原函数存在定理）如果函数 $f(x)$ 在区间 $[a,b]$ 上连续，那么函数

$$
\varPhi(x)=\int_a^xf(t){\rm dt}
$$

就是 $f(x)$ 在 $[a,b]$ 上的一个原函数。

> 定理 2 的重要意义是： 一方面肯定了连续函数的原函数是存在的，另一方面初步地揭示了积分学中的定积分与原函数之间的联系因此，我们就有可能通过原函数来计算定积分。

## 牛顿-莱布尼茨公式

**微积分基本定理** 如果函数 $F(x)$ 是连续函数 $f(x)$ 在区间 $[a,b]$ 上的一个原函数，那么

$$
\int_a^bf(x){\rm d}x=F(b)-F(a)
$$

该式称为**牛顿-莱布尼茨公式**，也叫做**微积分基本公式**。这个式子打通了定积分和不定积分。

该公式用上面的两个定理很容易证明，这里不写了。

为方便起见，此后将 $F(b)-F(a)$ 记作 $[F(x)]_a^b$，于是上式也可写成

$$
\int_a^bf(x){\rm d}x=[F(x)]_a^b
$$

::: example

计算上一节中的定积分

$$
\int_0^1x^2{\rm d}x
$$

解：

$$
I=\left[{x^3\over3}\right]_0^1=\frac13-0=\frac13
$$

:::
