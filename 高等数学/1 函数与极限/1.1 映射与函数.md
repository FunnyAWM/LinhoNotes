# 1.1 映射与函数

对于函数 $y=f(x)$，高中已经学过，$x$ 的取值集合成为定义域（Domain），记作 $D_f$；$y$ 的取值集合成为值域（Range），记作 $R_f$。

两个补充的概念：这里的元素 $y$ 称为元素 $x$ （在映射 $f$ 下）的一个**像**，元素 $x$ 称为元素 $y$ （在映射 $f$ 下）的一个**原像**。显然，每个 $x$ 都只有一个对应的像，而每个 $y$ 可以有一个或多个原像。

## 映射

### 概念

设有函数 $f:X \to Y$，如果 $f$ 的值域就是 $Y$，那 $f$ 称为 $X$ 到 $Y$ 的**映射**或**满射**。

若 $\forall {x_1},{x_2} \in {D_f},f({x_1}) \ne f({x_2})$，就说 $f$ 是 $X$ 到 $Y$ 的**单射**。

如果既是满射又是单射，就说 $f$ 是 $X$ 到 $Y$ 的**一一映射**或**双射**。

映射也称**算子**，名字很多，非空集合到数集有时称为泛函，自己对自己称为变换，数集到数集称为函数。

### 逆映射与复合映射

逆映射就是我们原来讲的反函数。只有单射才有逆映射，记作 $f^{-1}$。

复合映射就是我们原来讲的复合函数，记作 $f \circ g$。有： $(f \circ g)(x) = f\left[ {g(x)} \right]$。需要注意，${R_g} \subset {D_f}$。

## 数集

### 有理数集

**有理数**，即整数，有限小数与无限循环小数组成的数集。

有理数集是一个**数域**[^1]，但有理数集的极限是**不封闭**的，**有理数的极限可能是无理数**。

### 无理数集

无理数集，是由无理数，即全体无限不循环小数 组成的数集。

任何一个无理数都可以表示为无穷有理数列的极限，即**无理数都可以由有理数无限逼近**。

### 实数集

实数集是由全体实数，即全体有理数和全体无理数组成的数集。

#### 实数集的性质

- 实数集是一个**数域** [^1]  。
- 实数集是一个**有序集**，即其中任意两个元素之间可以比较大小。
- 实数集具有**稠密性**，即任意两个元素之间都有无穷多个元素。
- 实数集具有**连续性**。
- 相对于有理数集的极限是不封闭的，**实数集的极限是封闭的**。

## 区间与邻域

**区间**一定是连续的，$(-a,0)\cup (0,a)$ 就不是区间。

### 邻域

对于实数 $\delta>0$ ，$(a-\delta,a+\delta)$ 称为 $a$ 的 $\delta$ **邻域**，记作 $U(a,\delta)$。

$(a-\delta,a)\cup(a,a+\delta)$ 称为 $a$ 的**去心 $\delta$ 邻域**，记作 $\mathring U(a,\delta)$。

这里的 $\delta$ 可以形象地称为邻域半径。在不强调半径的时候，$\delta$ 可以略去，记作 $U(a)$ 和 $\mathring U(a)$。

### 开&闭区间的邻域定义

开区间：对于区间内的**每一个数**都存在 在区间内的邻域 的区间。

闭区间：区间**两端**的元素不存在 在区间内的邻域 的区间。

## 函数

*省略的高中内容：自变量、因变量、定义域、函数值、函数关系、奇偶性、周期性*

### 概念

绝对值函数：$y = | x | = \left\{\begin{array}l - x, & x < 0  \\ x, & x \ge 0\end{array}\right.$

取整函数：$y = \left[ x \right]$（不大于 $x$ 的最大整数）。

符号函数 $y = \operatorname{sgn} x = \left\{\begin{array}l - 1, & x < 0 \\    0, & x = 0 \\    1, & x > 0\end{array}\right.$

函数中，值域 $R_f$ 也可记作 $f(D)$。

### 函数的特性

有最大值称为有上界。有最小值称为有下界。两个都有称为有界。

> [!warning]
> 有界是上界和下界都要有，而不是有一个就行。数列的有界也是一样。

单调递增称为**单调增加**，单调递减称为**单调减少**。

自然定义域：使得解析式有意义的一切实数组成的集合。

图形：平面上的点集 $\{ {P(x,y)|y = f(x),x \in D} \}$ 称为函数 $y=f(x)$ 的**图形**。

周期函数**不一定**有最小正周期——例：狄利克雷函数 $D(x) = \left\{\begin{array}l1, & x \in {\bf{Q}} \\ 0, & x \in {{\bf{Q}}^C}\end{array}\right.$

### 反函数与复合函数

原函数在定义域上单调，则反函数也在定义域上单调，且单调性一致。用反证法易证。

函数 $y=f(x)$ 的反函数记作 $y=f^{-1}(x)$。不是所有的函数都有反函数，只有单射的函数才有反函数。

对于一个反函数，其原函数称为直接函数。

复合函数中，$y = f(u), u = g(x)$ 中，$u$ 称为**中间变量**。复合函数记作 $f \circ g$，即 $(f \circ g)(x) = f\left[ {g(x)} \right]$。按理来说，${R_g} \subset {D_f}$。但一般为了简便起见，不对此强制要求，而是收缩 $g$ 的定义域。

如：$y = \sqrt {\tan x}$，仍称其为 $y = \sqrt u$ 和 $u=\tan x$ 的复合函数，但是前者的定义域为 $[0, + \infty )$ ，后者的值域为 ${\bf{R}}$，但是我们认为这里的 $u=\tan x$ 的定义域收缩到其子集 $D' = \left\{ {x|k\pi  \le x < \left( {k + {1 \over 2}\pi ,k \in {\bf{Z}}} \right)} \right\}$。

### 函数的运算

对于两个函数 $f(x),g(x)$ 的定义域为 $D_f,D_g$，二者运算的前提是 ${D_f} \cap {D_g} \ne \emptyset$。

对于函数 $f(x)$，必有奇函数 $g(x)$ 和偶函数 $h(x)$ 使得 $f(x)=g(x)+h(x)$。假设法列方程易得。

### 初等函数

幂函数，指数函数，对数函数，三角函数，**反三角函数**五类称为基本初等函数。

由常数和基本初等函数经过有限次的四则运算和有限次的函数复合步骤所构成并可用一个式子表示的函数，称为初等函数。

## 三角、反三角、双曲：大学衔接

### 三角函数相关补充

补充剩下的三个三角函数：

正割 $\sec x = {1 \over {\cos x}}$；

余割 $\csc x = {1 \over {\sin x}}$；

余切 $\cot x = {1 \over {\tan x}}$。

补充和差化积和积化和差公式：

$$
\begin{align}
   \sin \alpha \cos \beta  & = {1 \over 2} [ {\sin  ( {\alpha  + \beta }  ) + \sin  ( {\alpha  - \beta }  )}  ]  \\
   \cos \alpha \sin \beta  & = {1 \over 2} [ {\sin  ( {\alpha  + \beta }  ) - \sin  ( {\alpha  - \beta }  )}  ]  \\ 
   \cos \alpha \cos \beta  & = {1 \over 2} [ {\cos  ( {\alpha  + \beta }  ) + \cos  ( {\alpha  - \beta }  )}  ]  \\
   \sin \alpha \sin \beta  & =  - {1 \over 2} [ {\cos  ( {\alpha  + \beta }  ) - \cos  ( {\alpha  - \beta }  )}  ] \end{align}
$$

$$
\begin{align}
   \sin \alpha  + \sin \beta  &= 2\sin {{\alpha  + \beta } \over 2}\cos {{\alpha  - \beta } \over 2}  \\ 
   \sin \alpha  - \sin \beta  &= 2\cos {{\alpha  + \beta } \over 2}\sin {{\alpha  - \beta } \over 2}  \\
   \cos \alpha  + \cos \beta  &= 2\cos {{\alpha  + \beta } \over 2}\cos {{\alpha  - \beta } \over 2}  \\
   \cos \alpha  - \cos \beta  &= -2\sin {{\alpha  + \beta } \over 2}\sin {{\alpha  - \beta } \over 2} \\
\end{align}
$$

### 反三角相关补充

#### 反正弦函数

为了解决已知正弦值求角的问题，定义反正弦函数 $y = \arcsin x$，定义域为 $x \in [ - 1,1]$。其中的“arc”是“弧”的意思，指反三角函数“输出”的值为弧度。其值域为 $[ - {\pi  \over 2},{\pi  \over 2}]$。该区间也称 $\sin x$ 的**主值区间**。反正弦函数在定义域上单调增加，为奇函数，有界（下界为 $-{\pi \over 2}$，上界为 $\pi \over 2$），**无周期性**，且**反正弦函数不是正弦函数的反函数**（因为三角函数都不是单射，因此所有的反三角函数**都不是**对应三角函数的反函数，最多只能算是其在主值区间内的反函数）。

结论：

$$
\begin{gathered}
\forall a \in [ - 1,1],\sin (\arcsin a) = a\\
\forall a \in [ - {\pi  \over 2},{\pi  \over 2}],\arcsin [ {\sin ( {a + 2k\pi } )} ] = \arcsin [ {\sin ( {\pi  - a + 2k\pi } )} ] = a,k \in {\bf{Z}}
\end{gathered}
$$

#### 反余弦函数

定义域 $[-1,1]$，值域 $[0,\pi]$，在定义域上单调减少，非奇非偶，有界（下界为 $0$，上界为 $\pi$），无周期性。$[0,\pi]$ 称为反余弦函数的主值区间。

结论：

$$
\begin{gathered}
\forall a \in [ - 1,1],\cos (\arccos a) = a \\
\forall a \in [ - 1,1],\arccos(-x)=\pi - \arccos x \\
\forall a \in [ 0, \pi ],\arccos [ {\cos ( {a + 2k\pi } )} ] = \arccos [ {\sin ( { - a + 2k\pi } )} ] = a,k \in {\bf{Z}} \\
\forall x \in [-1,1], \arcsin x + \arccos x = {\pi \over 2}
\end{gathered}
$$

#### 反正切函数

定义域 $(-\infty,+\infty)$，值域 $[-{\pi \over 2},{\pi \over 2}]$，在定义域上单调增加，奇函数，有界（下界为 $-{\pi \over 2}$，上界为 $\pi \over 2$），无周期性。有上下两条渐近线。

$$
\begin{align}
  & \mathop {\lim }\limits_{x \to  + \infty } \arctan x = {\pi  \over 2}  \\
  & \mathop {\lim }\limits_{x \to  - \infty } \arctan x =  - {\pi  \over 2}
\end{align}
$$

结论：

$$
\begin{gathered}
\forall a \in \bf{R},\tan (\arctan a) = a \\
\forall a \in ( - {\pi  \over 2},{\pi  \over 2}),\arctan [ {\tan ( {a + k\pi } )} ] = a,k \in {\bf{Z}}
\end{gathered}
$$

#### 反余切函数

定义域 $(-\infty,+\infty)$，值域 $[0,\pi]$，在定义域上单调减少，非奇非偶，纵轴截距为 $\pi \over 2$，有界（下界为 $0$，上界为 $\pi$），无周期性。有上下两条渐近线。

> [!warning]
> 反余切函数的值域和反正切函数不一样！反正切是 $[-{\pi \over 2},{\pi \over 2}]$，反余切是 $[0,\pi]$。

$$
\begin{align}
   \mathop {\lim }\limits_{x \to  + \infty } \operatorname{arccot} x &= 0  \\
   \mathop {\lim }\limits_{x \to  - \infty } \operatorname{arccot} x &= \pi \\
\end{align}
$$

结论：

$$
\begin{gathered}
\forall a \in {\bf{R}},{\rm{arccot}}(-a)=\pi-{\rm{arccot}}a\\
\forall a \in {\bf{R}},\cot (\operatorname{arccot} a) = a\\
\forall a \in (0,\pi ),\operatorname{arccot} [\cot (a + k\pi )] = a,k \in {\bf{R}}\\
\forall a \in {\bf{R}},\operatorname{arccot} a + \arctan a = {\pi  \over 2}
\end{gathered}
$$

### 双曲函数和反双曲函数

双曲正弦 $\operatorname{sh} x = {{e^x} - {e^{ - x}} \over 2}$，奇函数单调增；

双曲余弦 $\operatorname{ch} x = {{e^x} + {e^{ - x}} \over 2}$，偶函数先减后增无零点，纵轴截距为1；

双曲正切 $\operatorname{th} x = {\operatorname{sh} x \over \operatorname{ch} x} = {{e^x} - {e^{ - x}} \over {e^x} + {e^{ - x}}}$，奇函数单调增；

常用公式（对比三角函数）

$$
\def\sh{\operatorname{sh}}
\def\ch{\operatorname{ch}}
\def\th{\operatorname{th}}
\begin{align}
  \sh (x \pm y) &= \sh x\ch y \pm \ch x\sh y &
  \sin(x\pm y)&=\sin x \cos y \pm \cos x \sin y \\
  \ch (x \pm y) &= \ch x\ch y \pm \sh x\sh y &
  \cos(x\pm y)&=\cos x \cos y \mp \sin x \sin y \\
  \th (x \pm y) &= {\th x \pm \th y \over 1 \pm \th x  \th y} &
  \tan(x\pm y)&={\tan x \pm \tan y \over 1 \mp \tan x \tan y} \\ \\
  \sh 2x &= 2\sh x\ch x &
  \sin 2x&=2 \sin x \cos x \\
  \ch 2x&=\ch^2x+\sh^2x & \cos 2x&=\cos^2 x - \sin^2 x \\
  &= 2\ch^2x-1 &&= 2\cos^2x-1 \\
  &= 1+2\sh^2 x &&=1-2\sin^2 x \\
  \th 2x &= {2\th x \over 1+ \th^2 x} &
  \tan 2x &= {2\tan x \over 1- \tan^2 x}
\end{align}
$$

以上公式稍加整理即可证明，比三角容易多了。

根据定义式反求可得：

反双曲正弦 $y = \operatorname{arsh} x = \ln \left( {x + \sqrt {{x^2} + 1} } \right)$；

反双曲余弦 $y = \operatorname{arch} x = \ln \left( {x + \sqrt {{x^2} - 1} } \right)$；

反双曲正切 $y = \operatorname{arth} x = {1 \over 2}\ln {{1 + x} \over {1 - x}}$；

另外，双曲函数自变量的值叫做**双曲角**。

#### 题外话：为什么双曲函数和三角函数这么像？

根据欧拉公式，我们可以列出两个方程：

$$
\left\{
\begin{array}{l}
  e^{ix}=\cos x+i\sin x \\
  e^{-ix}=\cos x-i\sin x
\end{array}
\right.
$$

解得

$$
\sin x={e^{ix}-e^{-ix}\over 2i},\cos x={e^{ix}+e^{-ix}\over 2}
$$

也就是说

$$
\begin{align}
\cos x&=\operatorname{ch}(ix) \\
\sin x&=-i\operatorname{sh}(ix)
\end{align}
$$

这说明，两个式子对应的两个函数在复域内仅通过旋转即可重合。

> [!warning]
> 在相当多的公式中，双曲函数的正负号和三角的不一样，而还有很多是一样的，一定要注意区分。其中的原因就是 $i$ 在作祟。

[^1]: 指对**加减乘除**四则运算**封闭**的代数系统

