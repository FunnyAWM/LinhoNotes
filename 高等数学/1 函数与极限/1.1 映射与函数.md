# 1.1 映射与函数

对于函数 $y=f(x)$，高中已经学过，$x$ 的取值集合成为定义域（Domain），记作 $D_f$；$y$ 的取值集合成为值域（Range），记作 $R_f$。

两个补充的概念：这里的元素 $y$ 称为元素 $x$ （在映射 $f$ 下）的一个**像**，元素 $x$ 称为元素 $y$ （在映射 $f$ 下）的一个**原像**。显然，每个 $x$ 都只有一个对应的像，而每个 $y$ 可以有一个或多个原像。

## 映射

### 概念

设有函数 $f:X \to Y$，如果 $f$ 的值域就是 $Y$，那 $f$ 称为 $X$ 到 $Y$ 的**映射**或**满射**。

若 $\forall {x_1},{x_2} \in {D_f},f({x_1}) \ne f({x_2}) $，就说 $f$ 是 $X$ 到 $Y$ 的**单射**。

如果既是满射又是单射，就说 $f$ 是 $X$ 到 $Y$ 的**一一映射**或**双射**。

映射也称**算子**，名字很多，非空集合到数集有时称为泛函，自己对自己称为变换，数集到数集称为函数。

### 逆映射与复合映射

逆映射就是我们原来讲的反函数。只有单射才有逆映射，记作 $f^{-1}$。

复合映射就是我们原来讲的复合函数，记作 $f \circ g$。有： $(f \circ g)(x) = f\left[ {g(x)} \right]$。需要注意，${R_g} \subset {D_f}$。

## 函数

*省略的高中内容：自变量、因变量、定义域、函数值、函数关系、奇偶性、周期性*

### 概念

绝对值函数：$y = \left| x \right| = \left\{ {\matrix{
   { - x,} \hfill & {x < 0,}  \cr 
   { x,} \hfill & {x \ge 0.}  \cr } } \right.$

取整函数：$y = \left[ x \right]$（不大于 $x$ 的最大整数）。

符号函数 $y = {\mathop{\rm sgn}} x = \left\{ {\matrix{
   { - 1,} \hfill & {x < 0,} \hfill  \cr 
   {0,} \hfill & {x = 0,} \hfill  \cr 
   {1,} \hfill & {x > 0.} \hfill  \cr } } \right.$

函数中，值域 $R_f$ 也可记作 $f(D)$。

### 函数的特性

有最大值称为有上界。有最小值称为有下界。两个都有称为有界（注意：是两个都要有，而不是有一个就行）。

单调递增称为**单调增加**，单调递减称为**单调减少**。

自然定义域：使得解析式有意义的一切实数组成的集合。

图形：平面上的点集 $\left\{ {P(x,y)|y = f(x),x \in D} \right\}$ 称为函数 $y=f(x)$ 的**图形**。

周期函数**不一定**有最小正周期——例：狄利克雷函数 $D(x) = \left\{ {\matrix{
   {1,} \hfill & {x \in {\bf{Q}},} \hfill  \cr 
   {0,} \hfill & {x \in {{\bf{Q}}^C}.} \hfill  \cr  } } \right.$

### 反函数与复合函数

原函数在定义域上单调，则反函数也在定义域上单调，且单调性一致。用反证法易证。

函数 $y=f(x)$ 的反函数记作 $y=f^{-1}(x)$。不是所有的函数都有反函数，只有单射的函数才有反函数。

对于一个反函数，其原函数称为直接函数。

复合函数中，$y = f(u), u = g(x)$ 中，$u$ 称为**中间变量**。复合函数记作 $f \circ g$，即 $(f \circ g)(x) = f\left[ {g(x)} \right]$。按理来说，${R_g} \subset {D_f}$。但一般为了简便起见，不对此强制要求，而是收缩 $g$ 的定义域。

如：$y = \sqrt {\tan x} $，仍称其为 $y = \sqrt u$ 和 $u=\tan x$ 的复合函数，但是前者的定义域为 $[0, + \infty )$ ，后者的值域为 $${\bf{R}}$$，但是我们认为这里的 $u=\tan x$ 的定义域收缩到其子集 $D' = \left\{ {x|k\pi  \le x < \left( {k + {1 \over 2}\pi ,k \in {\bf{Z}}} \right)} \right\}$。

### 函数的运算

对于两个函数 $f(x),g(x)$ 的定义域为 $D_f,D_g$，二者运算的前提是${D_f} \cap {D_g} \ne \emptyset $。

对于函数 $f(x)$，必有奇函数 $g(x)$ 和偶函数 $h(x)$ 使得 $f(x)=g(x)+h(x)$。假设法列方程易得。

### 初等函数

幂函数，指数函数，对数函数，三角函数，**反三角函数**五类称为基本初等函数。

由常数和基本初等函数经过有限次的四则运算和有限次的函数复合步骤所构成并可用一个式子表示的函数，称为初等函数。

### 三角函数相关补充

补充剩下的三个三角函数：

正割 $\sec x = {1 \over {\cos x}}$；

余割 $\csc x = {1 \over {\sin x}}$；

余切 $\cot x = {1 \over {\tan x}}$。

补充和差化积和积化和差公式：
$$
\begin{align*}
   \sin \alpha \cos \beta  & = {1 \over 2} [ {\sin  ( {\alpha  + \beta }  ) + \sin  ( {\alpha  - \beta }  )}  ]  \\
   \cos \alpha \sin \beta  & = {1 \over 2} [ {\sin  ( {\alpha  + \beta }  ) - \sin  ( {\alpha  - \beta }  )}  ]  \\ 
   \cos \alpha \cos \beta  & = {1 \over 2} [ {\cos  ( {\alpha  + \beta }  ) + \cos  ( {\alpha  - \beta }  )}  ]  \\
   \sin \alpha \sin \beta  & =  - {1 \over 2} [ {\cos  ( {\alpha  + \beta }  ) - \cos  ( {\alpha  - \beta }  )}  ] \end{align*}
$$

$$
\begin{align*}
   \sin \alpha  + \sin \beta  &= 2\sin {{\alpha  + \beta } \over 2}\cos {{\alpha  - \beta } \over 2}  \\ 
   \sin \alpha  - \sin \beta  &= 2\cos {{\alpha  + \beta } \over 2}\sin {{\alpha  - \beta } \over 2}  \\
   \cos \alpha  + \cos \beta  &= 2\cos {{\alpha  + \beta } \over 2}\cos {{\alpha  - \beta } \over 2}  \\
   \cos \alpha  - \cos \beta  &= -2\sin {{\alpha  + \beta } \over 2}\sin {{\alpha  - \beta } \over 2} \\
\end{align*}
$$

### 反三角相关补充

#### 反正弦函数

为了解决已知正弦值求角的问题，定义反正弦函数 $y = \arcsin x$，定义域为 $x \in [ - 1,1]$。其中的“arc”是“弧”的意思，指反三角函数“输出”的值为弧度。其值域为 $[ - {\pi  \over 2},{\pi  \over 2}]$。该区间也称 $\sin x$ 的**主值区间**。反正弦函数在定义域上单调增加，为奇函数，有界（下界为 $-{\pi \over 2}$，上界为 $\pi \over 2$），**无周期性**，且**反正弦函数不是正弦函数的反函数**。

结论：
$$
\forall a \in [ - 1,1],\sin (\arcsin a) = a
$$

$$
\forall a \in [ - {\pi  \over 2},{\pi  \over 2}],\arcsin [ {\sin ( {a + 2k\pi } )} ] = \arcsin [ {\sin ( {\pi  - a + 2k\pi } )} ] = a,k \in {\bf{Z}}
$$

#### 反余弦函数

定义域 $[-1,1]$，值域 $[0,\pi]$，在定义域上单调减少，非奇非偶，有界（下界为 $0$，上界为 $\pi$），无周期性。$[0,\pi]$ 称为反余弦函数的主值区间。

结论：
$$
\forall a \in [ - 1,1],\cos (\arccos a) = a
$$

$$
\forall a \in [ - 1,1],\arccos(-x)=\pi - \arccos x
$$

$$
\forall a \in [ 0, \pi ],\arccos [ {\cos ( {a + 2k\pi } )} ] = \arccos [ {\sin ( { - a + 2k\pi } )} ] = a,k \in {\bf{Z}}
$$

$$
\forall x \in [-1,1], \arcsin x + \arccos x = {\pi \over 2}
$$

#### 反正切函数

定义域 $(-\infty,+\infty)$，值域 $[-{\pi \over 2},{\pi \over 2}]$，在定义域上单调增加，奇函数，有界（下界为 $-{\pi \over 2}$，上界为 $\pi \over 2$），无周期性。有上下两条渐近线。
$$
\begin{align*}
  & \mathop {\lim }\limits_{x \to  + \infty } \arctan x = {\pi  \over 2}  \\
  & \mathop {\lim }\limits_{x \to  - \infty } \arctan x =  - {\pi  \over 2}
\end{align*}
$$
结论：
$$
\forall a \in \bf{R},\tan (\arctan a) = a
$$

$$
\forall a \in ( - {\pi  \over 2},{\pi  \over 2}),\arctan [ {\tan ( {a + k\pi } )} ] = a,k \in {\bf{Z}}
$$

#### 反余切函数

定义域 $(-\infty,+\infty)$，值域 $[0,\pi]$（注意！和反正切不一样），在定义域上单调减少，非奇非偶，纵轴截距为 $\pi \over 2$，有界（下界为 $0$，上界为 $\pi$），无周期性。有上下两条渐近线。
$$
\begin{align*}
   \mathop {\lim }\limits_{x \to  + \infty } {\rm{arccot}} x &= 0  \\
   \mathop {\lim }\limits_{x \to  - \infty } {\rm{arccot}} x &= \pi \\
\end{align*}
$$
结论：
$$
\forall a \in {\bf{R}},{\rm{arccot}}(-a)=\pi-{\rm{arccot}}a
$$

$$
\forall a \in {\bf{R}},\cot ({\mathop{\rm arccot}\nolimits} a) = a
$$

$$
\forall a \in (0,\pi ),{\mathop{\rm arccot}\nolimits} [\cot (a + k\pi )] = a,k \in {\bf{R}}
$$

$$
\forall a \in {\bf{R}},{\mathop{\rm arccot}\nolimits} a + \arctan a = {\pi  \over 2}
$$



### 双曲函数和反双曲函数

双曲正弦 ${\mathop{\rm sh}\nolimits} x = {{{e^x} - {e^{ - x}}} \over 2}$，奇函数单调增；

双曲余弦 ${\mathop{\rm ch}\nolimits} x = {{{e^x} + {e^{ - x}}} \over 2}$，偶函数先减后增无零点，纵轴截距为1；

双曲正切 ${\mathop{\rm th}\nolimits} x = {{{\mathop{\rm sh}\nolimits} x} \over {{\mathop{\rm ch}\nolimits} x}} = {{{e^x} - {e^{ - x}}} \over {{e^x} + {e^{ - x}}}}$，奇函数单调增；

常用公式 
$$
\begin{align*}
  {\rm{sh}}(x + y) &= {\rm{sh}}x{\rm{ch}}y + {\rm{ch}}x{\rm{sh}}y  \\
  {\rm{sh}}(x - y) &= {\rm{sh}}x{\rm{ch}}y - {\rm{ch}}x{\rm{sh}}y  \\
  {\rm{ch}}(x + y) &= {\rm{ch}}x{\rm{ch}}y + {\rm{sh}}x{\rm{sh}}y  \\
  {\rm{ch}}(x - y) &= {\rm{ch}}x{\rm{ch}}y - {\rm{sh}}x{\rm{sh}}y \\
\end{align*}
$$
以上公式稍加整理即可证明，比三角容易多了。另外，**注意后两个公式的符号和三角的不一样**。

根据定义式反求可得：

反双曲正弦 $$y = {\mathop{\rm arsh}\nolimits} x = \ln \left( {x + \sqrt {{x^2} + 1} } \right)$$；

反双曲余弦 $$y = {\mathop{\rm arch}\nolimits} x = \ln \left( {x + \sqrt {{x^2} - 1} } \right)$$；

反双曲正切 $$y = {\mathop{\rm arth}\nolimits} x = {1 \over 2}\ln {{1 + x} \over {1 - x}}$$；

