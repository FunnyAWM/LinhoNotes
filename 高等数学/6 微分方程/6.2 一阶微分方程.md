# 6.2 一阶微分方程

## 可分离变量型

### 定义

形如
$$
\begin{gathered}
{{\rm d}y\over {\rm d}x}=f(x)g(y) \\
或\: P(x)Q(x){\rm d}x+M(x)N(y){\rm d}y=0
\end{gathered}
$$
的方程。

### 解法

把 $y'$ 写成 $\dfrac{{\rm d}y}{{\rm d}x}$，将 $x$ 集中在等号一侧，$y$ 放在另一侧，然后两边同时积分
$$
{{\rm d}y\over {\rm d}x}=f(x)g(y)
\Rightarrow
\int{{\rm d}y\over g(y)}=\int f(x){\rm d}x
$$

> [!tip]
>
> 默认 $g(y)\ne 0$， 直接除过来，可能丢掉部分解（「奇解」），求通解不考虑奇解。

### 例题

::: example
$$
y'\sqrt{1-x^2}=\sqrt{1-y^2}
$$

---

$$
\begin{align}
\sqrt{1-x^2}\cdot\frac{{\rm d}y}{{\rm d}x}&=\sqrt{1-y^2} \\
\frac{{\rm d}y}{\sqrt{1-y^2}}&=\frac{{\rm d}x}{\sqrt{1-x^2}} \\
\int\frac{{\rm d}y}{\sqrt{1-y^2}}&=\int\frac{{\rm d}x}{\sqrt{1-x^2}} \\
\arcsin y &= \arcsin x + C\\
\end{align}
$$

此即所求通解。

> [!tip]
>
> 不一定要化成 $y=\cdots$ 的形式，上面这样就可以了。

:::

> [!note]
>
> **通解与奇解**
>
> 求解时，我们通常不关注 $x$ 和 $y$ 的具体值。
>
> 这里 $\sqrt{1-y^2}=0$ 时，$y=\pm 1$，带回发现确实是方程的解，但没有放在通解中。这样的解称为奇解。
>
> 本题中，通解和奇解的关系是这样的：
>
> ```graph
> {
>   data: [
>     { fnType: "implicit", fn: "asin(y)-asin(x)-2", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-1.8", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-1.6", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-1.4", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-1.2", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-1", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-0.8", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-0.6", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-0.4", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)-0.2", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+0.2", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+0.4", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+0.6", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+0.8", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+1", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+1.2", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+1.4", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+1.6", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+1.8", color: "steelblue" },
>     { fnType: "implicit", fn: "asin(y)-asin(x)+2", color: "steelblue" },
>     { fn: "1", color: "red" },
>     { fn: "-1", color: "red" },
>   ],
>   disableZoom: true,
>   yAxis: { domain: [-2, 2] },
> }
> ```
>
> 可以看出，奇解和通解看上去很不一样，但是奇解是通解的包络。

## 一阶齐次微分方程

### 定义

形如
$$
{{\rm d}y\over {\rm d}x}=g\left(\frac yx \right)
$$
的方程。

更简便的判断方法是，不算 $y'$，所有项 $x,y$ 的次数之和是相等的。例如，
$$
x^2y\cdot y'+x^3=y^3
$$
是一阶齐次微分方程。

### 解法

令 $u=\dfrac yx$，则
$$
\frac{{\rm d}y}{{\rm d}x}=\frac{{\rm d}(ux)}{{\rm d}x}=u+x\frac{{\rm d}u}{{\rm d}x}
$$
故方程转化为
$$
{{\rm d}u\over g(u)-u}={{\rm d}x\over x}
$$
::: example

求微分方程
$$
{{\rm d}y\over {\rm d}x}=\frac yx-\frac12\left(\frac yx \right)^3
$$
满足 $y|_{x=1}=1$ 的特解。

---

令 $u=\dfrac yx$，故 $\dfrac{{\rm d}y}{{\rm d}x}=u+x\dfrac{{\rm d}u}{{\rm d}x}$，故有
$$
\begin{align}
u+x{{\rm d}u\over {\rm d}x}&=u-\frac12u^3\\
-2{{\rm d}u\over u^3} &= {{\rm d}x\over x}\\
\int -2{{\rm d}u\over u^3} &= \int {{\rm d}x\over x}\\
\frac1{u^2}&=\ln|x|+C \\
\end{align}
$$

> 由于只求 $x=1$ 有定义的特解，故只考虑 $x>0$

$$
\frac1{u^2}=\ln x+C
$$

将 $x=1$，$u=\left.\dfrac yx \right|_{x=y=1}=1$ 代入得到 $C=1$，故有
$$
\begin{gathered}
\frac 1{u^2}={x^2\over y^2}=\ln x+1 \\
\Rightarrow y={x\over\sqrt{\ln x+1}}
\end{gathered}
$$
:::

