# 数据的离散化方式小结

## 数据的离散化

狭义的离散化是指将一个**无穷大**的集合中的若干个元素映射到一个**有限**的集合中，以便于对那个无穷大的集合进行操作。

但是更常见的，在很多情况下：对于一个规定在 $Z$ 范围内的整数范围，他有可能包含非常多的重复的元素，真正不同的元素仅有 $M$ 个，因此我们考虑把这 $Z$ 个元素进行映射到只包含 $M$ 个元素的集合中，即与 $1-M$个整数建立映射关系。因此如果一个算法的时间空间复杂度与 $Z$ 有关，则会降低到与 $M$ 有关，对于某些重复元素非常多的集合，将会大大优化算法的复杂度。

## 离散化方式

### 1. 利用STL离散化（常用）

时间复杂度 $\Theta(N\log N)$

```cpp
for (int i=1;i<=n;i++)
{
	cin>>a[i];	//a保存原始数据
	b[i]=a[i]; //b也保存一份，便于一会排序
}
sort(b+1,b+1+n);	//给b排序
unique(b+1,b+1+n);	//给b去重
for (int i=1;i<=n;i++)
{
	int pos=lower_bound(b+1,b+1+n,a[i])-b;	//查找b数组中a某元素的位置
	a[i]=pos;	//数据离散化！！！！！！！！a存储的是元素的**相对大小**
}
```

### 2. 对于区间两端的离散化（双参数）

可以使用 `std::map` 来完成映射和查询，也可以在刚刚的建表当中引入第二个参数来排序，